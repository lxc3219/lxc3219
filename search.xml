<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Centos6.5下安装MySQL5.7.11-tar方式</title>
    <url>/archives/c121720d.html</url>
    <content><![CDATA[<!-- build time:Mon Feb 24 2020 18:53:17 GMT+0800 (GMT+08:00) --><p>本文介绍的是 MySQL5.7.11 在 Centos6.5 下 TAR 方式的安装情况。</p><a id="more"></a><h2 id="一、准备"><a href="#一、准备" class="headerlink" title="一、准备"></a>一、准备</h2><h3 id="1-安装环境"><a href="#1-安装环境" class="headerlink" title="1.安装环境"></a>1.安装环境</h3><blockquote><p>MySQL版本：mysql-5.7.11-linux-glibc2.5-x86_64.tar</p><p>操作系统：Centos6.5</p></blockquote><h3 id="2-名词解释"><a href="#2-名词解释" class="headerlink" title="2.名词解释"></a>2.名词解释</h3><p><strong>文中出现的类似 <code>/opt</code> ，<code>/app/MySQL</code> ，<code>/app/mysqldata</code> 等，均为本文安装时自定义配置信息，实际安装请对号入座。</strong></p><blockquote><p><code>{MYSQL_BASE_DIR}</code>：MySQL的安装目录，本文为 <code>/app/MySQL</code></p><p><code>{MYSQL_DATA_DIR}</code>：MySQL的数据文件目录，本文为 <code>/app/mysqldata</code></p><p><code>/opt</code> ：压缩包上传目录</p></blockquote><h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><h3 id="1-检查是否已安装MySQL组件"><a href="#1-检查是否已安装MySQL组件" class="headerlink" title="1.检查是否已安装MySQL组件"></a>1.检查是否已安装MySQL组件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure><p>若查询显示存在MySQL组件，则执行下面语句卸载。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpm -e --nodeps mysql</span><br></pre></td></tr></table></figure><p>卸载完了再检查一下</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure><h3 id="2-创建用户及用户组"><a href="#2-创建用户及用户组" class="headerlink" title="2.创建用户及用户组"></a>2.创建用户及用户组</h3><blockquote><p>此处用户及用户组均为 mysql</p></blockquote><p>删除用户</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">userdel mysql</span><br></pre></td></tr></table></figure><p>删除用户组</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupdel mysql</span><br></pre></td></tr></table></figure><p>创建名为 mysql 的用户组</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupadd mysql</span><br></pre></td></tr></table></figure><p>在用户组 mysql 下创建名为 mysql 的用户</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">useradd -g mysql mysql</span><br></pre></td></tr></table></figure><h3 id="3-解压安装包"><a href="#3-解压安装包" class="headerlink" title="3.解压安装包"></a>3.解压安装包</h3><p>解压 MySQL 安装包，并将解压包里的文件拷贝至 MySQL 的安装目录。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;opt</span><br><span class="line">tar -xvf mysql-5.7.11-linux-glibc2.5-x86_64.tar</span><br><span class="line">tar -zxvf mysql-5.7.11-linux-glibc2.5-x86_64.tar.gz</span><br><span class="line">cp -r mysql-5.7.11-linux-glibc2.5-x86_64 &#x2F;app&#x2F;MySQL</span><br></pre></td></tr></table></figure><blockquote><p><code>/opt</code> 为压缩包上传目录</p><p><code>/app/MySQL</code> 为 MySQL 安装目录</p></blockquote><h3 id="4-初始化数据库"><a href="#4-初始化数据库" class="headerlink" title="4.初始化数据库"></a>4.初始化数据库</h3><p>切换系统用户 mysql ，初始化数据库。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">su - mysql</span><br><span class="line">cd &#x2F;app&#x2F;MySQL</span><br><span class="line">.&#x2F;bin&#x2F;mysqld --user&#x3D;mysql --basedir&#x3D;&#x2F;app&#x2F;MySQL --datadir&#x3D;&#x2F;app&#x2F;mysqldata --initialize</span><br></pre></td></tr></table></figure><p>下图中红色方框内的随机密码，在修改密码时要用到，请先保存。</p><p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200224163829520.png" alt="image-20200224163829520"></p><h3 id="5-创建软连接"><a href="#5-创建软连接" class="headerlink" title="5.创建软连接"></a>5.创建软连接</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -s &#x2F;app&#x2F;MySQL&#x2F;bin&#x2F;mysql &#x2F;usr&#x2F;bin&#x2F;mysql</span><br></pre></td></tr></table></figure><h3 id="6-设置-MySQL-的配置文件"><a href="#6-设置-MySQL-的配置文件" class="headerlink" title="6.设置 MySQL 的配置文件"></a>6.设置 MySQL 的配置文件</h3><p>拷贝 <code>{MYSQL_BASE_DIR}/support-files/my-default.cnf</code> 作为 MySQL 的配置文件</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;app&#x2F;MySQL&#x2F;support-files&#x2F;my-default.cnf &#x2F;etc&#x2F;my.cnf</span><br></pre></td></tr></table></figure><p>在 <code>/etc/my.cnf</code> 中配置字符集、basedir、datadir等参数，可用 <code>vim /etc/my.cnf</code> 打开</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">basedir&#x3D;&#x2F;app&#x2F;MySQL</span><br><span class="line">datadir&#x3D;&#x2F;app&#x2F;mysqldata</span><br><span class="line">user&#x3D;mysql</span><br><span class="line">character-set-server&#x3D;utf8mb4</span><br><span class="line">log_error&#x3D;&#x2F;var&#x2F;log&#x2F;mysqld.log</span><br><span class="line">log_timestamps&#x3D;SYSTEM</span><br><span class="line">sql_mode&#x3D;NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">default-character-set&#x3D;utf8mb4</span><br></pre></td></tr></table></figure><blockquote><p>basedir：MySQL的安装目录，本文为 <code>/app/MySQL</code></p><p>datadir：MySQL的数据文件目录，本文为 <code>/app/mysqldata</code></p><p>log_timestamps：MySQl5.7.2中新增的参数，用于控制 error_log、slow_log、genera log等记录日志的显示时间，默认为 <code>UTC</code> ，本文为 <code>SYSTEM</code></p></blockquote><h3 id="7-设置-MySQL-服务开机启动"><a href="#7-设置-MySQL-服务开机启动" class="headerlink" title="7.设置 MySQL 服务开机启动"></a>7.设置 MySQL 服务开机启动</h3><p>拷贝 <code>{MYSQL_BASE_DIR}/support-files/mysql.server</code> 作为启动脚本</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;app&#x2F;MySQL&#x2F;support-files&#x2F;mysql.server &#x2F;etc&#x2F;init.d&#x2F;mysql</span><br></pre></td></tr></table></figure><p>在 <code>/etc/init.d/mysql</code> 中设置 basedir 和 datadir，可用 <code>vim /etc/init.d/mysql</code> 打开</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">basedir &#x3D;&#x2F;app&#x2F;MySQL</span><br><span class="line">datadir&#x3D;&#x2F;app&#x2F;mysqldata</span><br></pre></td></tr></table></figure><p>设置开机启动</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chkconfig mysql on</span><br></pre></td></tr></table></figure><h3 id="8-MySQL-服务的启停"><a href="#8-MySQL-服务的启停" class="headerlink" title="8.MySQL 服务的启停"></a>8.MySQL 服务的启停</h3><p>这一步只需启动 MySQL 服务即可</p><p>启动服务</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service mysql start</span><br></pre></td></tr></table></figure><p>重启服务</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure><p>停止服务</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service mysql stop</span><br></pre></td></tr></table></figure><h3 id="9-初始化-MySQL-root-用户的密码"><a href="#9-初始化-MySQL-root-用户的密码" class="headerlink" title="9.初始化 MySQL root 用户的密码"></a>9.初始化 MySQL root 用户的密码</h3><p>以 root 用户登录 MySQL，输入第 4 步的随机密码</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>修改 root 用户本地登录密码</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use mysql</span><br><span class="line">set password for root@localhost&#x3D;password(&#39;新密码&#39;);</span><br></pre></td></tr></table></figure><p>修改 root 用户远程登录密码</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;密码&#39;;</span><br></pre></td></tr></table></figure><p>刷新权限</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h3 id="10-测试连通性"><a href="#10-测试连通性" class="headerlink" title="10.测试连通性"></a>10.测试连通性</h3><p>使用 Navicat Premium 12、SQLyog 等客户端工具连接数据库进行测试，若提示连接成功，则表明mysql安装完毕。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>mysql</category>
        <category>install</category>
      </categories>
      <tags>
        <tag>mysql</tag>
        <tag>centos</tag>
        <tag>install</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/archives/4a17b156.html</url>
    <content><![CDATA[<!-- build time:Mon Feb 24 2020 18:53:17 GMT+0800 (GMT+08:00) --><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener external nofollow noreferrer">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener external nofollow noreferrer">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener external nofollow noreferrer">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener external nofollow noreferrer">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener external nofollow noreferrer">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener external nofollow noreferrer">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener external nofollow noreferrer">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener external nofollow noreferrer">Deployment</a></p><!-- rebuild by neat -->]]></content>
  </entry>
</search>
